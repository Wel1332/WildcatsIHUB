{% extends 'adminpanel/base_admin.html' %}
{% block title %}Approvals{% endblock %}
{% block content %}

<div class="projects-section">
    <div class="section-header">
        <h2>Pending Approvals</h2>
        <p>Manage user submissions here.</p>
    </div>

    {% for project in pending_projects %} 
    <div class="project-item">
        <div class="project-header">
            <h3>{{ project.title }}</h3>
            <div class="project-status">
                <span class="status-badge active">{{ project.status }}</span> 
            </div>
        </div>
        <div class="project-description">{{ project.description }}</div>
        <div class="project-actions" style="display: flex; gap: 10px;">
            <div class="project-actions" style="display: flex; gap: 10px;">
    
                <form method="post" action="{% url 'approve_reject_project' pk=project.pk %}">
                    {% csrf_token %}
                    <input type="hidden" name="action" value="Approve">
                    <button type="submit" class="btn-primary" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Approve</button>
                </form>
                
                <form method="post" action="{% url 'approve_reject_project' pk=project.pk %}">
                    {% csrf_token %}
                    <input type="hidden" name="action" value="Reject">
                    <button type="submit" class="btn-danger" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Reject</button>
                </form>
            
            </div>
    </div>
    {% empty %}
    <div class="empty-state">
        <h3>No approvals pending</h3>
        <p>All submissions have been processed.</p>
    </div>
    {% endfor %}
</div>

{% endblock %}